{
  "timestamp": "2025-05-26T12:37:45.181435",
  "experiment_info": {
    "name": "precision_at_k_recency",
    "prompt_variants": {
      "precision_at_k": "You are an expert recommendation system that optimizes for PRECISION@K with focus on RECENCY...",
      "coverage": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\\nYou are an expert recommendation system that optimizes for COVERAGE. Given a list of movies in the # Movie catalog from the user message, recommend an ORDERED list of EXACTLY 50 movies that maximize coverage of different film genres, BUT that are still relevant to the specific preferences of the user whose profile you are analyzing. Coverage measures the proportion of the entire catalog that the system is able to recommend. The goal is to better explore the available movie space and reduce the risk of filter bubbles. Make sure your recommendations cover different genres, but are aligned with the user\\'s tastes. Order the list by putting first the movies that represent a good compromise between genre diversity and user preferences, and last those that prioritize pure diversity more at the expense of immediate relevance. IMPORTANT: Make specific reference to movies the user has enjoyed to discover related but different genres. Each user should receive personalized recommendations based on their unique profile. \\n<output_requirements>\\n1. From the # Movie catalog provided by the user in their message, you MUST select and recommend an ORDERED list of EXACTLY 50 movie IDs. This list must maximize genre coverage while remaining relevant to the user's preferences. No more, no less than 50 items.\\n2. The list of 50 recommendations MUST be ordered as described above (compromise between diversity and relevance first, pure diversity last).\\n3. It is CRITICAL AND MANDATORY that your list contains EXACTLY 50 movie IDs. Deviating from this exact number (e.g., providing 49 or 51) will lead to a system failure and is unacceptable. THIS IS A NON-NEGOTIABLE REQUIREMENT. Confirm your count is 50 before responding.\\n4. Your response MUST include an 'explanation' field (string) detailing how your selections achieve genre coverage based on the user's profile and the provided movie catalog.\\n</output_requirements>\\n<|eot_id|>"
    }
  },
  "metric_recommendations": {
    "4277": {
      "precision_at_k": {
        "metric": "precision_at_k",
        "recommendations": [
          1,
          260,
          480,
          780,
          1584,
          1653,
          1732,
          2001,
          2118,
          2177,
          2191,
          2198,
          2217,
          2248,
          2253,
          2270,
          2294,
          2301,
          2322,
          2372,
          2387,
          2431,
          2449,
          2472,
          2504,
          2505,
          2528,
          2542,
          2566,
          2571,
          2572,
          2589,
          2600,
          2628,
          2667,
          2685,
          2693,
          2788,
          2797,
          2811,
          2821,
          2858,
          2863,
          2874,
          2880,
          2929,
          2946,
          3033,
          3041,
          3061
        ],
        "explanation": "The recommendations are based on the user's liked movies, focusing on genres such as Action, Adventure, Comedy, and Sci-Fi. The list includes a mix of classic and modern films, with a balance of highly-rated and lesser-known titles. The ordering prioritizes movies with similar attributes to the user's liked movies, while avoiding genres and themes from disliked movies."
      },
      "coverage": {
        "metric": "coverage",
        "recommendations": [
          924,
          1175,
          1225,
          1015,
          316,
          2311,
          253,
          1501,
          3128,
          2946,
          482,
          2944,
          2118,
          1677,
          1476,
          2352,
          2019,
          2812,
          1580,
          3365,
          2951,
          2193,
          3536,
          2366,
          116,
          3704,
          3952,
          707,
          1181,
          553,
          561,
          3584,
          2267,
          3183,
          1397,
          1518,
          1161,
          3150,
          194,
          3038,
          2657,
          3814,
          3811,
          1648,
          2071,
          1125,
          3740,
          3010,
          3163,
          2371
        ],
        "explanation": "The recommendations are based on the user's liked movies, focusing on temporal coverage by suggesting films from various decades and genres. The list includes a mix of classic and modern movies, ensuring a diverse range of recommendations. The ordering prioritizes movies with genres and release years that align with the user's preferences, aiming to provide an engaging and varied viewing experience."
      }
    },
    "4169": {
      "precision_at_k": {
        "metric": "precision_at_k",
        "recommendations": [
          1265,
          1284,
          2313,
          2012,
          367,
          3737,
          2919,
          3380,
          3948,
          1068,
          1411,
          163,
          3098,
          945,
          2911,
          563,
          3927,
          1233,
          3360,
          2353,
          900,
          1682,
          152,
          2227,
          2920,
          1028,
          2969,
          2085,
          1552,
          3556,
          508,
          3008,
          1940,
          1082,
          2454,
          701,
          2168,
          2949,
          2583,
          1089,
          2729,
          1935,
          494,
          1294,
          272,
          3126,
          3549,
          2314,
          2221,
          3377
        ],
        "explanation": "The recommendations are based on the user's liked movies, focusing on genres such as Drama, Comedy, and Sci-Fi. The top recommendations, including movie IDs 1265, 1284, and 2313, are chosen due to their high ratings and relevance to the user's preferences. The list is ordered according to the user's potential interest in each movie, with the most likely to be enjoyed at the top. The explanation for these specific 50 movies is that they align with the user's tastes and are likely to receive a high rating."
      },
      "coverage": {
        "metric": "coverage",
        "recommendations": [
          1214,
          1240,
          1320,
          1200,
          3730,
          3731,
          3732,
          3733,
          3734,
          3735,
          3736,
          3737,
          3738,
          3699,
          3700,
          3701,
          3705,
          3706,
          3708,
          3709,
          3711,
          3692,
          3693,
          3694,
          3696,
          3697,
          3698,
          3527,
          3683,
          3684,
          3685,
          3686,
          3676,
          3677,
          3678,
          3679,
          3680,
          3682,
          3066,
          3771,
          3772,
          3775,
          3776,
          3777,
          3778,
          3724,
          3725,
          3726,
          3728,
          3739
        ],
        "explanation": "The recommendations are based on the user's liked movies, focusing on the genres of Action, Sci-Fi, Thriller, and Adventure. The list includes classic films like 'Alien' and 'The Terminator', as well as more recent releases. Temporal coverage is ensured by including movies from various decades, with a focus on the 80s and 90s. The ordering prioritizes highly-rated and influential films within the specified genres."
      }
    },
    "1680": {
      "precision_at_k": {
        "metric": "precision_at_k",
        "recommendations": [
          260,
          1198,
          1240,
          1371,
          1372,
          1373,
          1377,
          1408,
          1580,
          1610,
          1653,
          1720,
          1732,
          1747,
          1965,
          2003,
          2004,
          2039,
          2041,
          2054,
          2081,
          2116,
          2117,
          2141,
          2148,
          2153,
          2177,
          2191,
          2198,
          2217,
          2248,
          2253,
          2270,
          2294,
          2301,
          2311,
          2322,
          2367,
          2387,
          2431,
          2449,
          2470,
          2471,
          2504,
          2505,
          2528,
          2542,
          2566,
          2571,
          2600
        ],
        "explanation": "The recommendations provided are based on the user's profile, focusing on genres, themes, and time periods that the user has consistently rated highly. The list prioritizes movies with attributes similar to those in the user's liked movies, such as action, adventure, comedy, and sci-fi genres, while avoiding genres and themes from the disliked movies list. The ordering of the recommendations is based on the similarity of these attributes and the user's past ratings, with the goal of maximizing the probability of positive ratings for the recommended movies."
      },
      "coverage": {
        "metric": "coverage",
        "recommendations": [
          2085,
          2141,
          2100,
          2470,
          2471,
          2367,
          2003,
          2004,
          2039,
          2041,
          2081,
          2116,
          2117,
          2148,
          2153,
          2177,
          2198,
          2217,
          2248,
          2253,
          2270,
          2322,
          2367,
          2449,
          2470,
          2471,
          2504,
          2505,
          2542,
          2571,
          2579,
          2593,
          2600,
          2687,
          2693,
          2722,
          2740,
          2761,
          2788,
          2797,
          2821,
          2850,
          2863,
          2874,
          2880,
          2916,
          2929,
          2946,
          3033,
          3066
        ],
        "explanation": "The recommendations are based on a temporal coverage strategy, aiming to provide a diverse set of movies across different years. The list includes a mix of classic films from the early 20th century, such as 'Elstree Calling' (1930) and 'Lured' (1947), as well as more modern releases like 'The Matrix' (1999) and 'Requiem for a Dream' (2000). The selection covers various genres, including action, adventure, comedy, drama, horror, and romance, to cater to different user preferences. By considering the release years and genres of the movies, this strategy ensures that the user is exposed to a wide range of cinematic experiences across different time periods."
      }
    }
  },
  "final_evaluation": {
    "final_recommendations": [
      1,
      260,
      480,
      780,
      1584,
      1653,
      1732,
      2001,
      2118,
      2177,
      2191,
      2198,
      2217,
      2248,
      2253,
      2270,
      2294,
      2301,
      2322,
      2372,
      2387,
      2431,
      2449,
      2472,
      2504,
      2505,
      2528,
      2542,
      2566,
      2571,
      2572,
      2589,
      2600,
      2628,
      2667,
      2685,
      2693,
      2788,
      2797,
      2811,
      2821,
      2858,
      2863,
      2874,
      2880,
      2929,
      2946,
      3033,
      3041,
      3061
    ],
    "justification": "The final recommendations are based on a balanced approach between precision@k and coverage metrics. The top recommendations prioritize precision@k, focusing on movies with high similarity to the user's liked movies, while ensuring a diverse range of genres and release years. The ordering of the recommendations is based on the similarity of attributes and the user's past ratings, with the goal of maximizing the probability of positive ratings for the recommended movies. The coverage metric is used to ensure that the recommendations include a mix of classic and modern films, as well as a diverse range of genres, to cater to different user preferences.",
    "trade_offs": "The trade-offs considered between metrics include the balance between precision@k and coverage. While precision@k is prioritized for the top recommendations, coverage is used to ensure that the recommendations are diverse and cater to different user preferences. The ordering of the recommendations is based on a combination of both metrics, with precision@k being the primary consideration for the top recommendations. The final recommendations aim to provide a personalized set of movies that balance the user's preferences with the need for diversity and discovery."
  },
  "metrics": {
    "per_user": {
      "4277": {
        "precision_at_k": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.0,
            "10": 0.0,
            "20": 0.0,
            "50": 0.04
          },
          "genre_coverage": 0.8888888888888888,
          "average_release_year": 1985.96
        },
        "coverage": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.0,
            "10": 0.0,
            "20": 0.0,
            "50": 0.0
          },
          "genre_coverage": 0.9444444444444444
        }
      },
      "4169": {
        "precision_at_k": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.0,
            "10": 0.0,
            "20": 0.0,
            "50": 0.0
          },
          "genre_coverage": 0.9444444444444444,
          "average_release_year": 1974.58
        },
        "coverage": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.0,
            "10": 0.0,
            "20": 0.05,
            "50": 0.08
          },
          "genre_coverage": 0.9444444444444444
        }
      },
      "1680": {
        "precision_at_k": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.2,
            "10": 0.2,
            "20": 0.1,
            "50": 0.08
          },
          "genre_coverage": 0.8888888888888888,
          "average_release_year": 1988.72
        },
        "coverage": {
          "precision_scores": {
            "1": 0.0,
            "5": 0.0,
            "10": 0.0,
            "20": 0.05,
            "50": 0.08
          },
          "genre_coverage": 0.8333333333333334
        }
      }
    },
    "aggregate_mean": {
      "precision_at_k": {
        "map_at_k": {
          "1": 0.0,
          "5": 0.06666666666666667,
          "10": 0.06666666666666667,
          "20": 0.03333333333333333,
          "50": 0.04
        },
        "mean_genre_coverage": 0.9074074074074074,
        "num_recommendations": 150,
        "num_unique_recommendations": 127,
        "average_release_year": 1983.0866666666668,
        "total_item_coverage_system": 0.05923255215039917
      },
      "coverage": {
        "map_at_k": {
          "1": 0.0,
          "5": 0.0,
          "10": 0.0,
          "20": 0.03333333333333333,
          "50": 0.05333333333333334
        },
        "mean_genre_coverage": 0.9074074074074074,
        "num_recommendations": 150,
        "num_unique_recommendations": 145
      },
      "final": {
        "mean_genre_coverage": 0.0,
        "num_recommendations": 50,
        "num_unique_recommendations": 50,
        "precision_scores_agg": {
          "1": 0.0,
          "5": 0.0,
          "10": 0.2,
          "20": 0.15,
          "50": 0.2
        },
        "genre_coverage": 0.8888888888888888,
        "average_release_year": 1985.96,
        "temporal_dispersion": 18.152641681033646,
        "genre_entropy": 3.4580698110444015
      }
    }
  },
  "per_user_held_out_items": {
    "4277": [
      2580,
      2006,
      913,
      766,
      2393,
      2384,
      1611,
      3350,
      1284,
      3359,
      89,
      3949,
      1928,
      301,
      1253,
      720,
      151,
      1085,
      292,
      3107,
      2618,
      2078,
      1945,
      1408,
      1587,
      2145,
      3099,
      2539,
      1128,
      3927,
      3032,
      2430,
      290,
      279,
      2988,
      200,
      2353,
      1273,
      3095,
      3770,
      441,
      2735,
      1347,
      3498,
      3093,
      2531,
      3503,
      1500,
      3789,
      923,
      3345,
      2132,
      1086,
      1356,
      72,
      3700,
      2303,
      1396,
      1365,
      3489,
      2505,
      3706,
      501,
      2561,
      3863,
      1103,
      1427,
      29,
      490,
      1918,
      587,
      2890,
      1597,
      1663,
      782,
      2427,
      3452,
      621,
      1419,
      1750,
      2938,
      2391,
      1172,
      1258,
      547,
      1647,
      217,
      2374,
      3916,
      296,
      3030,
      3879,
      2108,
      1517,
      2026,
      2501,
      1725,
      2359,
      986,
      2099,
      1415,
      3471,
      1306,
      2425,
      2919,
      2918,
      431,
      3194,
      3576,
      229,
      2893,
      3727,
      600,
      3039,
      919,
      1676,
      2268,
      879,
      614,
      1846,
      170,
      2583,
      263,
      1643,
      3074,
      3793,
      1089,
      2355,
      2921,
      3764,
      1603,
      648,
      1950,
      3102,
      3081,
      3185,
      3733,
      125,
      2403,
      742,
      2947,
      785,
      3504,
      1860,
      2398,
      3018,
      1841,
      2644,
      483,
      900,
      594,
      824,
      160,
      73,
      2410,
      2096,
      2518,
      1028,
      1262,
      2138,
      3784,
      3769,
      2428,
      1014,
      1270,
      1364,
      2551,
      2662,
      2885,
      1136,
      2329,
      3623,
      1037,
      1131,
      163,
      1756,
      2087,
      146,
      1047,
      3549,
      382,
      1594,
      1844,
      1053,
      3537,
      3932,
      165,
      1544,
      67,
      2540,
      3741,
      3329,
      3807,
      3518,
      1261,
      1193,
      3412,
      1231,
      3795,
      2719,
      3617,
      2769,
      3827,
      1754,
      3435,
      3090,
      2649,
      1964,
      2028,
      457,
      3771,
      1810,
      1354,
      3218,
      1120,
      1148,
      3145,
      435,
      3873,
      3196,
      920,
      750,
      1682,
      866,
      1729,
      3702,
      1645,
      3127,
      2797,
      2872,
      524,
      2328,
      3801,
      3133,
      3147,
      11,
      3304,
      367,
      527,
      541,
      1007,
      1792,
      3765,
      1375,
      2360,
      353,
      2864,
      1282,
      2502,
      3684,
      1840,
      3747,
      897,
      3848,
      2714,
      2406,
      2017,
      902,
      303,
      619,
      1213,
      225,
      2470,
      161,
      3494,
      3169,
      2997,
      1784,
      2112,
      3062,
      1041,
      837,
      3852,
      1675,
      2288,
      3676,
      949,
      1432,
      10,
      166,
      1276,
      86,
      1228,
      1189,
      147,
      3275,
      1061
    ],
    "4169": [
      1281,
      3895,
      920,
      1061,
      72,
      1095,
      3361,
      3546,
      910,
      702,
      538,
      2112,
      2022,
      978,
      647,
      3736,
      1672,
      456,
      3263,
      3916,
      2071,
      2174,
      1301,
      1272,
      377,
      3035,
      1912,
      3827,
      3504,
      2762,
      2985,
      81,
      627,
      2185,
      1303,
      3475,
      335,
      1805,
      2333,
      2024,
      1296,
      2166,
      1026,
      3678,
      2852,
      1963,
      353,
      3512,
      11,
      3685,
      915,
      213,
      2140,
      137,
      3897,
      1268,
      2186,
      905,
      3370,
      2805,
      183,
      1844,
      1056,
      593,
      412,
      7,
      3060,
      3713,
      2191,
      942,
      1642,
      2708,
      3075,
      334,
      95,
      1396,
      3081,
      1190,
      475,
      3307,
      2726,
      161,
      2175,
      2178,
      3093,
      2243,
      1408,
      1295,
      1077,
      1209,
      2925,
      3068,
      417,
      3668,
      2131,
      2877,
      1252,
      474,
      536,
      3125,
      994,
      307,
      1099,
      3030,
      2829,
      2425,
      2348,
      2927,
      778,
      2699,
      3199,
      2904,
      3893,
      2866,
      1537,
      457,
      1217,
      2231,
      1019,
      2752,
      371,
      2908,
      3091,
      1569,
      170,
      3670,
      1952,
      3194,
      2763,
      661,
      1267,
      3724,
      2727,
      1883,
      73,
      3384,
      2620,
      930,
      3952,
      1207,
      1792,
      1022,
      3011,
      3108,
      3217,
      534,
      1041,
      3599,
      2858,
      3753,
      3167,
      666,
      784,
      306,
      2785,
      1347,
      2971,
      648,
      951,
      2398,
      522,
      1198,
      3156,
      314,
      3160,
      2731,
      555,
      1580,
      2110,
      2390,
      1409,
      3094,
      2102,
      2080,
      2738,
      10,
      2821,
      3622,
      2541,
      36,
      1249,
      3396,
      2446,
      2001,
      926,
      1961,
      1573,
      3088,
      3181,
      2871,
      2996,
      2075,
      2069,
      3426,
      805,
      1204,
      3435,
      1288,
      3461,
      1957,
      3147,
      2935,
      1545,
      1226,
      962,
      2769,
      1639,
      2791,
      1271,
      2640,
      3359,
      671,
      929,
      1362,
      2212,
      1253,
      3507,
      41,
      2670,
      1635,
      2811,
      3803,
      2630,
      292,
      1926,
      3317,
      2784,
      1344,
      2202,
      1235,
      3551,
      1259,
      2872,
      2660,
      3936,
      165,
      515,
      2291,
      140,
      2250,
      973,
      2006
    ],
    "1680": [
      2752,
      1233,
      728,
      1293,
      3239,
      1235,
      180,
      99,
      367,
      388,
      1573,
      521,
      1093,
      2055,
      1974,
      921,
      3394,
      3409,
      423,
      282,
      1294,
      3256,
      539,
      39,
      2105,
      2120,
      2118,
      223,
      1997,
      3788,
      1881,
      513,
      2567,
      373,
      1998,
      43,
      240,
      3331,
      2915,
      1128,
      1261,
      3812,
      1370,
      198,
      327,
      161,
      3396,
      2300,
      1376,
      1342,
      912,
      1104,
      3547,
      1493,
      92,
      3501,
      1371,
      1080,
      219,
      3731,
      3102,
      3506,
      116,
      2321,
      2715,
      102,
      3325,
      2240,
      3457,
      3504,
      3614,
      3546,
      2973,
      1206,
      332,
      170,
      1642,
      1237,
      3421,
      3481,
      1018,
      2692,
      753,
      3203,
      2959,
      1016,
      3638,
      1175,
      2052,
      328,
      1875,
      2193,
      2124,
      1629,
      2048,
      2926,
      1349,
      1610,
      1394,
      3529,
      627,
      1151,
      2287,
      1087,
      1219,
      3814,
      2148,
      2174,
      3420,
      988,
      2504,
      1082,
      76,
      3480,
      2529,
      3211,
      253,
      3081,
      501,
      2161,
      2657,
      3282,
      3576,
      801,
      86,
      366,
      2018,
      3175,
      2535,
      1405,
      2757,
      3693,
      2024,
      2451,
      588,
      1063,
      3210,
      451,
      2089,
      1125,
      2616,
      2050,
      3167,
      741,
      3448,
      3535,
      735,
      121,
      461,
      2612,
      2517,
      1649,
      866,
      2802,
      2908,
      1096,
      1302,
      1252,
      523,
      3798,
      1518,
      1223,
      3271,
      3112,
      49,
      3524,
      2469,
      2374,
      2524,
      2945,
      2255,
      3039,
      1012,
      353,
      3359,
      368,
      1032,
      3760,
      426,
      1500,
      2966,
      678,
      3543,
      1748,
      3707,
      1956,
      2664,
      1007,
      1673,
      720,
      3016,
      1969,
      2121,
      3604,
      2553,
      2109,
      3527,
      2761,
      3928,
      2406,
      1581,
      3759,
      1351,
      312,
      2992,
      3019,
      2988,
      1248,
      3258,
      766,
      1189,
      2019,
      3685,
      722,
      183,
      1057,
      3101,
      3391,
      2639,
      2853,
      2929,
      162
    ]
  }
}